webpackJsonp([1],{122:function(e,n,t){t(154),t(152),t(150),t(151),t(153)},123:function(e,n,t){t(157),t(155),t(160),t(156),t(158),t(159)},132:function(e,n){},133:function(e,n){e.exports='<md-card>\n    <md-content flex layout-padding style="padding:6px;padding-bottom:0">\n        <div>\n            <b>Url :</b> {{schemaRegistryURL}}\n            <span ng-show="connectionFailure" style="color:red">CONNECTIVITY ERROR</span><br>\n            <b>Global Compatibility level :</b>\n            <select ng-show="allowChanges && config.compatibilityLevel" ng-model=\'form\' required ng-options=\'option as option for option in globalConfigOpts\'></select>\n            <span ng-hide="allowChanges ">{{config.compatibilityLevel}}</span>\n            <md-button class="green md-small" style="padding: 0px 6px; line-height: 1.2;" ng-hide="form == config.compatibilityLevel" ng-click="updateGlobalConfig(form, $event);">change</md-button>\n            <br>\n            <b>schema-registry-ui:</b> 0.9.5\n        </div>\n    </md-content>\n</md-card>\n<div layout-margin flex>\n    <div flex="nogrow">\n        <img ng-src="src/assets/icons/landoop-dark.svg" style="width:20px;float: left;padding-right:5px;"></div>\n    <div flex>\n        <p class="md-caption">Powered by <a href="https://www.landoop.com/" target="_blank">Landoop</a></p>\n    </div>\n</div>\n'},134:function(e,n){e.exports='<md-card>\n\n  <md-toolbar class="md-hue-2">\n\n    \x3c!--<div class="md-toolbar-tools">--\x3e\n    <div layout="row" layout-xs="column" layout-align="center center" layout-wrap>\n      <div flex>\n        <h3 class="md-toolbar-tools md-padding" hide-xs><i class="fa fa-download" aria-hidden="true" style="margin-right:7px"></i>Export Schemas\n        </h3>\n        </div>\n      </div>\n    </md-toolbar>\n  <md-content flex  class="md-padding">\n    <div>\n      <div ng-show="isChecked" >Number of schemas: {{Cache.length}}</div>\n      <div ng-hide="isChecked" >Total number of schemas (including all versions): {{allSchemasCache.length}}</div>\n\n      <md-checkbox style="margin:10px"  ng-model="isChecked" aria-label="only latest">\n        Export latest only version of each schema\n      </md-checkbox><br />\n\n      <md-button ng-show="isChecked" id="latestSchemas" class="btn btn-primary blue">download latest</md-button>\n      <md-button ng-hide="isChecked" ng-disabled="allSchemasCache.length < 1" id="allSchemas" class="btn btn-primary blue">download all</md-button>\n\n    </div>\n    \x3c!--<div flex="2">--\x3e\n      \x3c!--<div class="md-padding">Total number of schemas (including all versions): {{allSchemas.length}}</div>--\x3e\n      \x3c!--<md-button ng-click="downloadAllSchemas(allSchemas)" download="allSchemas-{{date}}.txt"  ng-href="{{curlsURL}}">Export all schemas</md-button>--\x3e\n    \x3c!--</div>--\x3e\n</md-content>\n</md-card>'},135:function(e,n){e.exports='<div class="container-fluid-centered" style="height: 500px;text-align:center;">\n  <div class="row-fluid">\n    <div >\n      <p> Welcome to the <b>schema registry ui</b></p><br/>\n      <p> select a schema or <a ng-href="#/cluster/{{cluster}}/schema/new">create a new one</a></p><br/>\n    </div>\n  </div>\n</div>'},136:function(e,n){e.exports='<md-card ng-controller="SubjectListCtrl" md-theme="{{ showDarkTheme ? \'dark-grey\' : \'default\' }}">\n  <md-toolbar class="md-hue-2">\n    <div class="md-toolbar-tools">\n      <h3>\n        <span>{{allSchemas.length}} Schemas</span>\n      </h3>\n      <span flex></span>\n      <a md-ink-ripple ng-show="true" ng-href="#/cluster/{{cluster}}/schema/new"\n         class="md-raised md-primary md-button md-ink-ripple blue"\n         type="button"\n         aria-label="new connector">New</a>\n    </div>\n  </md-toolbar>\n  <md-content style="background-color:white;overflow:hidden;">\n      <input ng-model="search" class="searchSchemas" placeholder="Search schemas">\n      <i class="fa fa-search" aria-hidden="true" style="right: 26px;font-size: 16px;position: absolute;top: 20px;color:#ddd"></i>\n    <md-list flex>\n      <md-list-item class="md-2-line shemaslistitem"\n                    dir-paginate="schema in allSchemas | orderBy:\'-schema.length\' | filter : search | itemsPerPage: itemsPerPage"\n                    href="#/cluster/{{cluster}}/schema/{{schema.subjectName}}/version/{{schema.version}}"\n                    aria-label="{{schema.subjectName}}"\n                    style="border-bottom: 1px solid rgba(0, 0, 0, .1)"\n                    ng-class="{ \'selectedListItem\': schema.subjectName == subjectObject.subjectName }">\n\n        \x3c!-- cute / sexy schema bar --\x3e\n        <div class="md-list-item-text" layout="column">\n          <h4>{{schema.subjectName}}</h4>\n          <p style="font-size:12px;" ng-if="schema.compatibilityLevel">\n           Compatibility level is set to {{schema.compatibilityLevel}}\n          </p>\n        </div>\n        <div ng-class="{ \'moreversions\': schema.version > 1}"\n             class="md-raised md-warn md-button md-ink-ripple versionbox"\n              type="button" aria-label="Primary">\n          <span>v.{{schema.version}}</span>\n        </div>\n      </md-list-item>\n    </md-list>\n    <dir-pagination-controls max-size="6" style="margin:0;"></dir-pagination-controls>\n  </md-content>\n</md-card>\n'},137:function(e,n){e.exports='<form name="postSchema" class="form-horizontal" style="width: 100%">\n\n  \x3c!-- Main Card for new subject --\x3e\n  <md-card md-theme-watch="">\n    <md-toolbar class="md-hue-2">\n      <div class="md-toolbar-tools">\n        <h3>\n          <span>New Subject</span>\n        </h3>\n      </div>\n    </md-toolbar>\n    \x3c!--Content: Form--\x3e\n    <md-card-content style="padding-bottom: 0px;">\n      <div layout="row">\n        <md-input-container  flex style="margin:20px 0 0;">\n          <label style="color:#43687a;font-weight:bold;font-size:19px;">Subject Name</label>\n          <input ng-model="text" autofocus placeholder="my-new-topic-value" required>\n            <md-item-template>\n              <span md-highlight-text="ctrl.searchText" md-highlight-flags="^i">{{item.display}}</span>\n            </md-item-template>\n            <div ng-messages="postSchema.autocomplete.$error">\n              <div ng-message="required">This field is required</div>\n            </div>\n          </input>\n        </md-input-container>\n        <div class="md-errors-spacer"></div>\n      </div>\n\n      <div layout="row" layout-align="center center" >\n        <div flex="80" >\n            <b style="color:#43687a" ng-hide="curlme">Schema:</b>\n            <b style="color:#43687a" ng-show="curlme">CURL command:</b>\n        </div>\n        <div flex layout="row" layout-align="end center">\n          <md-switch  ng-model="curlme" ng-show="curlme" style="margin:0;color:#43687a">schema / <b>curl</b></md-switch>\n          <md-switch ng-model="curlme" ng-hide="curlme" style="margin:0;color:#43687a"><b>schema</b> / curl</md-switch>\n        </div>\n      </div>\n\n      \x3c!-- data raw --\x3e\n      <div\n           ng-style="{\'background-color\':aceBackgroundColor}"\n           ng-hide="curlme" id="newavro"\n           style="height:313px;background-color:rgba(0, 128, 0, 0.04)"\n           name="json"\n           ng-model="newAvroString"\n           ng-readonly="false"\n           ui-ace="{\n            mode: \'json\',\n            firstLineNumber: 1,\n            onLoad: newSchemaAceLoaded,\n            onChange: newSchemaAceChanged,\n            showPrintMargin:false,\n            }"\n           valid-json\n      >\n      </div>\n\n      <div ng-show="curlme" id="curlcommand"\n           style="height:313px;"\n           ng-model="curlCommand" ng-readonly="true"\n           ui-ace="{\n            mode: \'batchfile\',\n            useWrapMode: true,\n            firstLineNumber: 1,\n            onLoad: curlCommandAceLoaded,\n            showPrintMargin:false,\n            onChange: curlCommandAceChanged\n            }"\n      >\n      </div>\n    </md-card-content>\n\n    \x3c!--Actions--\x3e\n    <md-card-actions style="margin-left:16px;">\n      <i>** This is a sample schema. Please edit! **</i>\n\n      <md-button style="float:right;"\n              ng-disabled="postSchema.json.$error.validJson"\n              ng-hide="allowCreateOrEvolution"\n              ng-click="testCompatibility();"\n              ng-validate="noSubjectName"\n              class=" md-raised"\n              type="submit"\n              aria-label="Test schema compatibility">\n          VALIDATE\n      </md-button>\n      <md-button style="float:right;"\n                 ng-disabled="postSchema.json.$error.validJson"\n                 ng-show="allowCreateOrEvolution"\n              ng-click="registerNewSchema();"\n              ng-validate="noSubjectName"\n              class=" md-raised"\n              type="submit"\n              aria-label="Register new schema">\n        <i class="fa fa-floppy-o ng-scope" aria-hidden="true"></i>\n        {{createOrEvolve}}\n      </md-button><br />\n    </md-card-actions>\n\n\n  </md-card>\n\n</form>'},138:function(e,n){e.exports='<section style="margin: 5px 10px 0;" layout= "row" layout-align= "center" ng-if= "1 < pages.length || !autoHide"\n    class= "pagination">\n    <md-button aria-label= "Previous page" ng-if= "boundaryLinks" ng-disabled= "pagination.current===1" ng-click=\n        "setCurrent(1)">\n        <ng-md-icon icon= "first_page">\n        </ng-md-icon>\n    </md-button>\n    <md-button aria-label= "First page" ng-if= "directionLinks" ng-disabled= "pagination.current===1" ng-click=\n        "setCurrent(pagination.current - 1)">\n        <ng-md-icon class= "fa fa-chevron-left">\n        </ng-md-icon>\n    </md-button>\n    <md-button ng-repeat= "pageNumber in pages track by tracker(pageNumber, $index)" ng-class=\n        "{\'md-primary\' : pagination.current==pageNumber}" ng-disabled= "pageNumber===\'...\'" ng-click= "setCurrent(pageNumber)">{{pageNumber}}\n    </md-button>\n    <md-button aria-label= "Last page" ng-if= "directionLinks" ng-disabled= "pagination.current===pagination.last" ng-click=\n        "setCurrent(pagination.current + 1)">\n        <ng-md-icon class= "fa fa-chevron-right">\n        </ng-md-icon>\n    </md-button>\n    <md-button ng-if= "boundaryLinks" ng-disabled= "pagination.current===pagination.last" ng-click=\n        "setCurrent(pagination.last)">\n        <ng-md-icon icon= "last_page">\n        </ng-md-icon>\n    </md-button>\n</section>'},139:function(e,n){e.exports='<md-card ng-show="subjectObject">\n\n  <md-toolbar class="md-hue-2">\n\n    \x3c!--<div class="md-toolbar-tools">--\x3e\n    <div layout="row" layout-xs="column" layout-align="center center" layout-wrap>\n      <div flex>\n        <h3 class="md-toolbar-tools" style="padding:0px;" hide-xs>\n          <div layout="row" style="height: 64px;">\n            <md-icon class="md-avatar-icon" md-svg-icon="src/assets/icons/avro.svg"\n                     style="height: 40px;width: 40px;padding: 5px;background-color: rgba(255,255,255,0.87);border-radius: 60px;margin-left: 10px;margin-right: 10px;">\n            </md-icon>\n            \x3c!--<md-tooltip md-direction="top" style="margin-top:15px;margin-left:-20px">--\x3e\n            \x3c!--Schema [{{subjectObject.subjectName}}]--\x3e\n            \x3c!--</md-tooltip>--\x3e\n            <div layout="column" style="padding-top: 12px;padding-bottom: 12px;">\n\n              <div flex>{{subjectObject.subjectName}}</div>\n              <div flex>\n                  <span>\n                    <p class="md-caption"\n                       style="margin-top:10px;margin-bottom:0px;">\n                      SCHEMA ID: {{subjectObject.id}}\n                    </p>\n                  </span>\n              </div>\n            </div>\n          </div>\n        </h3>\n        \x3c!--Mobile version only--\x3e\n        <h3 class="md-toolbar-tools" style="margin-top:10px;text-align:center;" hide-gt-xs>\n          <div layout="column">\n            <div flex><span style="color: black;">{{subjectObject.subjectName}}</span></div>\n            <div flex>\n                  <span>\n                    <p class="md-caption"\n                       style="margin-top:10px;margin-bottom:0px; text-align:center;">\n                      SCHEMA ID: {{subjectObject.id}}\n                    </p>\n                  </span>\n            </div>\n          </div>\n        </h3>\n        <span flex></span>\n      </div>\n\n      <div flex-gt-sm="nogrow" flex>\n        <md-button ng-hide="multipleVersionsOn"\n                   md-no-ink\n                   style="color: white; background-color: rgb(55, 70, 79);box-shadow:0px;cursor:text;"\n                   disabled>\n          version {{subjectObject.version}}\n        </md-button>\n\n        <md-menu d-position-mode="target-right target" ng-show="multipleVersionsOn">\n          <md-button style="color: white; background-color: rgba(139, 195, 74,0.9)" class="md-raised" ng-click="$mdOpenMenu($event)">\n            version {{subjectObject.version}}\n            <i class="fa fa-caret-down" aria-hidden="true"></i>\n          </md-button>\n          <md-menu-content width="3">\n            <md-menu-item ng-repeat="version in otherVersions | orderBy:\'version\'">\n              <md-button click-link="cluster/{{cluster}}/schema/{{subjectObject.subjectName}}/version/{{version}}">\n                <span md-menu-align-target="">version</span> {{version}}\n              </md-button>\n            </md-menu-item>\n          </md-menu-content>\n        </md-menu>\n      </div>\n    </div>\n    \x3c!--</div>--\x3e\n    <div class="buttonGroup" ng-hide="hideEdit" ng-if="aceReady && !showDeleteConfirmation"  >\n\n        \x3c!-- When in non-editable state, display the EDIT button --\x3e\n        <md-button ng-show="!isAvroAceEditable" ng-click="toggleEditor();"\n           aria-label="EDIT"\n           aria-hidden="false">\n          <i class="fa fa-pencil-square-o ng-scope" aria-hidden="true"></i>\n            EDIT\n        </md-button>\n        \x3c!-- When in edit-state, display the CANCEL button --\x3e\n        <md-button ng-show="isAvroAceEditable" ng-click="cancelEditor();"\n            type="button" aria-label="CANCEL"\n           aria-hidden="false">\n          <i class="fa fa-ban ng-scope" aria-hidden="true"></i>\n            CANCEL\n        </md-button>\n        <md-menu d-position-mode="target-right target" ng-if="!isAvroAceEditable && allowSchemaDeletion">\n          <md-button ng-click="$mdOpenMenu($event)">\n              <i class="fa fa-trash" aria-hidden="true"></i>\n            DELETE\n          </md-button>\n          <md-menu-content width="3">\n            <md-menu-item ng-if="multipleVersionsOn">\n              <md-button ng-click="askForConfirmToDelete(\'latest\')">\n                <span md-menu-align-target="">Delete Latest Version</span>\n              </md-button>\n            </md-menu-item>\n            <md-menu-item ng-if="multipleVersionsOn">\n              <md-button ng-click="askForConfirmToDelete(subjectObject.version)">\n                <span md-menu-align-target=""> Delete Selected Version ({{subjectObject.version}})</span>\n              </md-button>\n            </md-menu-item>\n            <md-menu-item>\n              <md-button ng-click="askForConfirmToDelete()">\n                <span md-menu-align-target="">Delete Subject</span>\n              </md-button>\n            </md-menu-item>\n          </md-menu-content>\n        </md-menu>\n    </div>\n  </md-toolbar>\n  <md-content flex layout-padding style="padding: 2px;">\n      <div  flex-gt-sm="nogrow"  style="background-color: rgba(0, 128, 0, 0.04);padding:20px;" flex ng-show="showDeleteConfirmation">\n          Schema <b>{{subjectObject.subjectName}}</b> <span ng-if="versionToBeDeleted">version: <b>{{versionToBeDeleted}}</b></span> will be <span class="text-danger">deleted</span>.\n            <div style="position:absolute;top:5px;right:0;">\n                <md-button class="btn-danger" type="button" ng-click="deleteSchema(versionToBeDeleted)">\n                    <i class="fa fa-trash" aria-hidden="true"></i>\n                DELETE\n                </md-button>\n                <md-button type="button" ng-click="showDeleteConfirmation=false;">\n                    <i class="fa fa fa-ban ng-scope" aria-hidden="true"></i>\n                CANCEL</md-button>\n\n            </div>\n\n        </div>\n    <md-tabs md-dynamic-height md-border-bottom style="padding:0">\n      <md-tab md-on-select="hideEdit = false;">\n        <md-tab-label>\n          Schema\n          \x3c!--<i class="fa fa-file-text-o" style="padding-right:10px;" aria-hidden="true"></i> Schema--\x3e\n        </md-tab-label>\n        <md-tab-body>\n          <md-content class="md-padding" style="max-height:{{maxHeight}}px">\n            \x3c!--put avro here--\x3e\n              <form name="form" class="form">\n                <div ng-if="aceReady">\n                  <div style="color:red;" ng-show="form.json.$error.validJson">- Syntax Error</div>\n\n                    <div id="left"\n                         ng-class="{\'has-error\':form.json.$invalid, \'has-success\':!form.json.$invalid}"\n                         ng-model="aceString"\n                         ng-readonly="!isAvroAceEditable"\n                         ng-style="{\'background-color\':aceBackgroundColor}"\n                         name="json"\n                         ui-ace="{ mode: \'json\', firstLineNumber: 1,  onLoad: viewSchemaAceLoaded, onChange: viewSchemaAceChanged,  blockScrolling: Infinity ,  showPrintMargin:false}"\n                         valid-json\n                    ></div>\n                </div>\n              </form>\n          </md-content>\x3c!--<div ng-show="form.json.$invalid && isAvroAceEditable" style="color:red;">- Invalid syntax</div>--\x3e\n          \x3c!-- When in edit-state, display the TEST button --\x3e\n          <md-button style="float: right; margin-right: 32px;"\n                     class="md-raised"\n                     ng-disabled="form.json.$error.validJson"\n                     ng-show="isAvroAceEditable && !isAvroUpdatedAndCompatible && !hideEdit" ng-click="testAvroCompatibility();"\n                     aria-label="TEST"\n                     aria-hidden="false">\n            VALIDATE\n          </md-button>\n          \x3c!-- When in edit-state, and Avro is Updated and Compatible display the UPDATE button --\x3e\n          <md-button ng-show="isAvroAceEditable && isAvroUpdatedAndCompatible && !hideEdit" ng-click="evolveAvroSchema();"\n                     style="float: right; margin-right: 32px;"\n                     class="md-raised"\n                     type="button" aria-label="EVOLVE SCHEMA"\n                     aria-hidden="false">\n            <i class="fa fa-floppy-o ng-scope" aria-hidden="true"></i>\n            EVOLVE SCHEMA\n          </md-button>\n        </md-tab-body>\n      </md-tab>\n\n      <md-tab  md-on-select="otherTabSelected()" ng-if="aceReady && aceString.length > 10">\n        <md-tab-label>\n          Info\n          \x3c!--<i class="fa fa-table" style="padding-right:10px;" aria-hidden="true"></i> Info--\x3e\n        </md-tab-label>\n        <md-tab-body>\n          <md-content class="md-padding">\n            \x3c!-- Nice header --\x3e\n            <md-card style="box-shadow:none;" ng-hide="arraySchema">\n              <md-card-header style="padding:10px">\n                <md-card-avatar>\n                  <md-icon class="md-avatar-icon" md-svg-icon="src/assets/icons/avro.svg"\n                           style="height: 32px;width: 32px;margin-top: 10px;margin-left: 5px;padding:0;background-color:white"></md-icon>\n                </md-card-avatar>\n                <md-card-header-text>\n                  <span class="md-title"><b>type:</b> {{subjectObject.Schema.type}}</span>\n                  <span class="md-title"><b>name:</b> {{subjectObject.Schema.name}}</span>\n                  <span class="md-title"><b>namespace:</b> {{subjectObject.Schema.namespace}}</span>\n                </md-card-header-text>\n              </md-card-header>\n              <md-card-content ng-show="subjectObject.Schema.doc != undefined" style="padding-bottom:5px">\n                <p class="md-card-image md-caption ng-binding">{{subjectObject.Schema.doc}}</p>\n              </md-card-content>\n            </md-card>\n\n            \x3c!-- 3a. data table --\x3e\n\n            <md-table-container ng-hide="arraySchema">\n              <table md-table md-row-select="optionsTable.rowSelection" multiple="{{optionsTable.multiSelect}}"\n                     ng-model="selected" md-progress="promise">\n                <thead ng-if="!optionsTable.decapitate" md-head md-order="query.order" md-on-reorder="logOrder">\n                <tr md-row>\n                  <th md-column md-order-by="name"><span>Name</span></th>\n                  <th md-column md-order-by="type"><span>Type</span></th>\n                  <th md-column md-order-by="default"><span>Default</span></th>\n                  <th md-column md-order-by="doc"><span>Documentation</span></th>\n                </tr>\n                </thead>\n                <tbody md-body>\n                <tr md-row md-select="selected" md-select-id="name" ng-repeat="s in schema">\n                  <td md-cell>{{s.name}}</td>\n                  <td md-cell>\n                    <json-tree ng-show="showTree(s.type)" object="s.type" root-name="\'Type\'"></json-tree>\n                    <div ng-hide="showTree(s.type)">{{s.type}}</div>\n                  </td>\n                  <td md-cell>{{s.default}}</td>\n                  <td md-cell class="md-card-image md-caption">{{s.doc}}</td>\n                </tr>\n                </tbody>\n              </table>\n            </md-table-container>\n            <div ng-repeat="schemas in subjectObject.Schema" ng-show="arraySchema">\n              <md-card style="box-shadow:none;">\n                <md-card-header style="padding:10px">\n                  <md-card-avatar>\n                    <md-icon class="md-avatar-icon" md-svg-icon="src/assets/icons/avro.svg"\n                             style="height: 32px;width: 32px;margin-top: 10px;margin-left: 5px;padding:0;background-color:white"></md-icon>\n                  </md-card-avatar>\n                  <md-card-header-text>\n                    <span class="md-title"><b>type:</b> {{schemas.type}}</span>\n                    <span class="md-title"><b>name:</b> {{schemas.name}}</span>\n                    <span class="md-title"><b>namespace:</b> {{schemas.namespace}}</span>\n                  </md-card-header-text>\n                </md-card-header>\n                <md-card-content ng-show="subjectObject.Schema.doc != undefined" style="padding-bottom:5px">\n                  <p class="md-card-image md-caption ng-binding">{{subjectObject.Schema.doc}}</p>\n                </md-card-content>\n              </md-card>\n              <md-table-container>\n                <table md-table md-row-select="optionsTable.rowSelection" multiple="{{optionsTable.multiSelect}}"\n                       ng-model="selected" md-progress="promise"\n                >\n                  <thead ng-if="!optionsTable.decapitate" md-head md-order="query.order" md-on-reorder="logOrder">\n                  <tr md-row>\n                    <th md-column md-order-by="name"><span>Name</span></th>\n                    <th md-column md-order-by="type"><span>Type</span></th>\n                    <th md-column md-order-by="default"><span>Default</span></th>\n                    <th md-column md-order-by="doc"><span>Documentation</span></th>\n                  </tr>\n                  </thead>\n                  <tbody md-body>\n                  <tr md-row md-select="selected" md-select-id="name" ng-repeat="s in schemas.fields">\n                    <td md-cell>{{s.name}}</td>\n                    <td md-cell>\n                      <json-tree ng-show="showTree(s.type)" object="s.type" root-name="\'Type\'"></json-tree>\n                      <div ng-hide="showTree(s.type)">{{s.type}}</div>\n                    </td>\n                    <td md-cell>{{s.default}}</td>\n                    <td md-cell class="md-card-image md-caption">{{s.doc}}</td>\n                  </tr>\n                  </tbody>\n                </table>\n              </md-table-container>\n              <div class="seperator" ng-hide="$index ==  subjectObject.Schema.length -1"></div>\n            </div>\n\n          </md-content>\n        </md-tab-body>\n      </md-tab>\n      <md-tab md-on-select="hideEdit = true;">\n        <md-tab-label>\n          Config\n          \x3c!--<i class="fa fa-file-text-o" style="padding-right:10px;" aria-hidden="true"></i> Schema--\x3e\n        </md-tab-label>\n        <md-tab-body>\n          <md-content class="md-padding">\n            \x3c!--put avro here--\x3e\n            <form  ng-cloak>\n              <p><span  ng-if="existingValue">Current compatibility for <b>{{subjectObject.subjectName}}</b>  : <span class="radioValue">{{ existingValue }}</span><br /></span>\n              <span  ng-if="!existingValue">Schema <b>{{subjectObject.subjectName}}</b> uses the global compatibility level [{{globalConfig}}]<br /></span>\n              Change compatibility level to:\n              </p>\n              <md-radio-group ng-model="compatibilitySelect"  ng-change=\'success=false\'>\n                <md-radio-button value="NONE">NONE</md-radio-button>\n                <md-radio-button value="FULL"> FULL </md-radio-button>\n                <md-radio-button value="FORWARD">FORWARD</md-radio-button>\n                <md-radio-button value="BACKWARD">BACKWARD</md-radio-button>\n                <md-radio-button ng-if="allowTransitiveCompatibilities" value="FULL_TRANSITIVE">FULL TRANSITIVE</md-radio-button>\n                <md-radio-button ng-if="allowTransitiveCompatibilities" value="FORWARD_TRANSITIVE">FORWARD TRANSITIVE</md-radio-button>\n                <md-radio-button ng-if="allowTransitiveCompatibilities" value="BACKWARD_TRANSITIVE">BACKWARD TRANSITIVE</md-radio-button>\n              </md-radio-group>\n              <md-button class="md-raised" ng-disabled="!compatibilitySelect" ng-click="updateCompatibility(compatibilitySelect)" type="button">Update</md-button>\n            </form>\n            <div ng-show = "success">\n              <span style="color:green">Successfully changed compatibility level to {{compatibilitySelect}} </span>\n            </div>\n          </md-content>\n        </md-tab-body>\n      </md-tab>\n      <md-tab  md-on-select="otherTabSelected()" ng-if="completeSubjectHistory.length > 1">\n        <md-tab-label>\n          <i class="" style="padding-right:10px;" aria-hidden="true"></i> History\n        </md-tab-label>\n        <md-tab-body>\n          <md-content class="md-padding">\n            <div ng-show="x.version != 1" ng-repeat="x in completeSubjectHistory | reverse">\n              \x3c!--<pre semantic-diff left-obj="x.left.text | json" right-obj="x.right.text | json"></pre>--\x3e\n              <h5>Version {{x.version}} <span style="font-weight: 200;">(Schema ID: {{x.id}})</span></h5>\n              <pre\n                      style="background-color:white;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;"\n                      line-diff left-obj="x.previous | json" right-obj="x.current | json"></pre>\n            </div>\n            <h5>Version 1 <span\n                    style="font-weight: 200;">(Schema ID: {{completeSubjectHistory[0].id}})</span></h5>\n            <pre\n                    style="background-color:white;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;"\n                    line-diff\n                    left-obj="\'\'"\n                    right-obj="completeSubjectHistory[0].current | json"></pre>\n          </md-content>\n        </md-tab-body>\n      </md-tab>\n    </md-tabs>\n  </md-content>\n  \x3c!--old code ends here--\x3e\n</md-card>'},149:function(e,n,t){"use strict";t(131),t(130),t(129),t(128),t(132),t(127),window.DIFF_INSERT=t(126),window.DIFF_DELETE=t(124),window.DIFF_EQUAL=t(125),t(57),t(140),t(1),t(121),t(120),t(118),t(119),t(56),t(54),t(55),t(117),t(115),t(116);var o=angular.module("angularAPP",["ui.ace","angularUtils.directives.dirPagination","ngRoute","ngMaterial","ngAnimate","ngAria","md.data.table","diff-match-patch","angular-json-tree","ngSanitize"]);t(123),t(122);var a=t(135),i=t(137),r=t(134),s=t(139),c=t(133),l=t(136),d=t(138),u=function(e,n,t,o,a,i){n.$on("$routeChangeSuccess",function(){e.clusters=i.getClusters(),n.cluster=i.getSelectedCluster(),n.color=n.cluster.COLOR}),n.updateEndPoint=function(n){e.connectionFailure=!1,t.path("/cluster/"+n)}};u.$inject=["$rootScope","$scope","$location","$log","SchemaRegistryFactory","env"],o.controller("HeaderCtrl",u),o.directive("validJson",function(){return{require:"ngModel",priority:1e3,link:function(e,n,t,o){o.$parsers.unshift(function(e){var n,t=!0;try{n=JSON.parse(e)}catch(e){t=!1}return o.$setValidity("validJson",t),t?n:void 0}),o.$formatters.push(function(e){return e})}}}),o.filter("reverse",function(){return function(e){return e.slice().reverse()}}),o.config(["$compileProvider","$mdThemingProvider","$routeProvider",function(e,n,t){e.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|file|blob):/),n.theme("default").primaryPalette("blue-grey").accentPalette("blue").warnPalette("grey"),t.when("/",{template:a,controller:"HomeCtrl"}).when("/cluster/:cluster",{template:a,controller:"HomeCtrl"}).when("/cluster/:cluster/schema/new",{template:i,controller:"NewSubjectCtrl as ctrl"}).when("/cluster/:cluster/export",{template:r,controller:"ExportSchemasCtrl"}).when("/cluster/:cluster/schema/:subject/version/:version",{template:s,controller:"SubjectsCtrl"}).otherwise({redirectTo:"/"})}]),o.run(["env","$routeParams","$rootScope","$templateCache",function(e,n,t,o){t.$on("$routeChangeSuccess",function(){e.setSelectedCluster(n.cluster)}),o.put("config.html",c),o.put("list.html",l),o.put("angularUtils.directives.dirPagination.template",d)}])},150:function(e,n,t){var o=t(1),a=o.module("angularAPP"),i=function(e,n,t,o,a){return{getScalaFiles:function(e){a.warn(e),n.defaults.useXDomain=!0;var t=e.split("\n").join(" "),o={method:"POST",data:t,crossDomain:!0,url:AVRO4S,headers:{"Content-Type":"application/json",Accept:"application/json"}};n(o).success(function(e){a.info("Received a response with: "+e);var n=e.split("###");if(a.info(n),"scala"===n[0])return a.info("It's Scala !! "),a.info("It's Scala :"+n[1]),n[1]}).error(function(e,n){a.error("Bad data ["+e+"] status ["+n+"]")})}}};i.$inject=["$rootScope","$http","$location","$q","$log"],a.factory("Avro4ScalaFactory",i)},151:function(e,n,t){var o=t(1),a=o.module("angularAPP"),i=function(e){function n(n){if(0===t.length&&(e.missingEnvJS=!0,console.log("NOT EXISTS env.js")),o.isUndefined(n))a=t[0];else{var i=t.filter(function(e){return e.NAME===n});a=1===i.length?i[0]:t[0]}}var t="undefined"!=typeof clusters?o.copy(clusters):[],a=null;return n(),{setSelectedCluster:function(e){n(e)},getSelectedCluster:function(){return a},getClusters:function(){return clusters},SCHEMA_REGISTRY:function(){return a.SCHEMA_REGISTRY},AVRO4S:"https://platform.landoop.com/avro4s/avro4s",COLOR:function(){return a.COLOR},allowGlobalConfigChanges:function(){return a.allowGlobalConfigChanges},allowTransitiveCompatibilities:function(){return a.allowTransitiveCompatibilities},allowSchemaDeletion:function(){return a.allowSchemaDeletion}}};i.$inject=["$rootScope"],a.factory("env",i)},152:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t(23),a=t.n(o),i=t(1),r=i.module("angularAPP"),s=function(e,n,t,o,r,s,c){function l(){var e=c.SCHEMA_REGISTRY()+"/subjects/";r.debug("  curl -X GET "+e);var t=(new Date).getTime(),a=o.defer();return n.get(e).then(function(n){var o=n.data;r.debug("  curl -X GET "+e+" => "+o.length+" registered subjects in [ "+((new Date).getTime()-t)+" ] msec"),a.resolve(o)},function(e){a.reject("Failure with : "+e)}),a.promise}function d(e){var t=c.SCHEMA_REGISTRY()+"/subjects/"+e+"/versions/";r.debug("  curl -X GET "+t);var i=(new Date).getTime(),s=o.defer();return n.get(t).then(function(e){var n=e.data;r.debug("  curl -X GET "+t+" => "+a()(n)+" versions in [ "+((new Date).getTime()-i)+" ] msec"),s.resolve(n)},function(e){var n="Failure with : "+e+" "+a()(e);r.error("Error in getting subject versions : "+n),s.reject(n)}),s.promise}function u(e,t){var i=c.SCHEMA_REGISTRY()+"/subjects/"+e+"/versions/"+t;r.debug("  curl -X GET "+i);var s=o.defer(),l=(new Date).getTime();return n.get(i).then(function(n){var t=n.data;r.debug("  curl -X GET "+i+" => ["+e+"] subject "+a()(t).length+" bytes in [ "+((new Date).getTime()-l)+" ] msec"),s.resolve(t)},function(e){var n="Failure getting subject at version : "+e+" "+a()(e);r.error(n),s.reject(n)}),s.promise}function m(n){var t,o=[];return i.forEach(n,function(e){for(t=1;t<=e.version;t++)u(e.subjectName,t).then(function(e){o.push(e)})}),e.allSchemasCache=o,o}function h(e,t){var i=o.defer();r.debug("Posting new version of subject ["+e+"]");var s={method:"POST",url:c.SCHEMA_REGISTRY()+"/subjects/"+e+"/versions",data:'{"schema":"'+t.replace(/\n/g," ").replace(/\s\s+/g," ").replace(/"/g,'\\"')+"\"}'",dataType:"json",headers:{"Content-Type":"application/json",Accept:"application/json"}};return n(s).success(function(e){var n=e.id;i.resolve(n)}).error(function(e,n){r.info("Error on schema registration : "+a()(e));e.message;n>=400?r.debug("Schema registrations is not allowed "+n+" "+e):r.debug("Schema registration failure: "+a()(e)),i.reject(e)}),i.promise}function g(e,t){var i=o.defer();r.debug("  Testing schema compatibility for ["+e+"]");var s={method:"POST",url:c.SCHEMA_REGISTRY()+"/compatibility/subjects/"+e+"/versions/latest",data:'{"schema":"'+t.replace(/\n/g," ").replace(/\s\s+/g," ").replace(/"/g,'\\"')+"\"}'",dataType:"json",headers:{"Content-Type":"application/json",Accept:"application/json"}};return n(s).success(function(e){r.info("Success in testing schema compatibility "+a()(e)),i.resolve(e.is_compatible)}).error(function(n,t){r.warn("Error on check compatibility : "+a()(n)),404===t?(40401===n.error_code&&r.warn("40401 = Subject not found"),r.warn("["+e+"] is a non existing subject"),i.resolve("new")):r.error("HTTP > 200 && < 400 (!) "+a()(n)),i.reject(n)}),i.promise}function p(e){var t=o.defer();if(-1!==["NONE","FULL","FORWARD","BACKWARD","FULL_TRANSITIVE","FORWARD_TRANSITIVE","BACKWARD_TRANSITIVE"].indexOf(e)){var i={method:"PUT",url:c.SCHEMA_REGISTRY()+"/config",data:'{"compatibility":"'+e+"\"}'",dataType:"json",headers:{"Content-Type":"application/json",Accept:"application/json"}};n(i).success(function(e){r.info("Success in changing global schema-registry compatibility "+a()(e)),t.resolve(e.compatibility)}).error(function(e,n){r.info("Error on changing global compatibility : "+a()(e)),422===n?(r.warn("Invalid compatibility level "+a()(n)+" "+a()(e)),a()(e).indexOf("50001")>-1?r.error(" Error in the backend data store - "+$scope.text):a()(e).indexOf("50003")>-1&&r.error("Error while forwarding the request to the master: "+a()(e))):r.debug("HTTP > 200 && < 400 (!) "+a()(e)),t.reject(e)})}else r.warn("Compatibility level:"+e+" is not supported"),t.reject();return t.promise}function b(){var e=o.defer(),t=c.SCHEMA_REGISTRY()+"/config";r.debug("  curl -X GET "+t);var a=(new Date).getTime();return n.get(t).success(function(n){r.debug("  curl -X GET "+t+" => in [ "+((new Date).getTime()-a)+"] msec"),e.resolve(n)}).error(function(n,t){e.reject("Get global config rejection : "+n+" "+t)}),e.promise}function f(e){var t=o.defer(),a=c.SCHEMA_REGISTRY()+"/config/"+e;r.debug("  curl -X GET "+a);var i=(new Date).getTime();return n.get(a).success(function(e){r.debug("  curl -X GET "+a+" => in [ "+((new Date).getTime()-i)+"] msec"),t.resolve(e)}).error(function(n,o){404===o?r.warn("No compatibility level is set for "+e+". Global compatibility level is applied"):t.reject("Get global config rejection : "+n+" "+o)}),t.promise}function v(e,t){var i=o.defer();if(-1!==["NONE","FULL","FORWARD","BACKWARD","FULL_TRANSITIVE","FORWARD_TRANSITIVE","BACKWARD_TRANSITIVE"].indexOf(t)){var s={method:"PUT",url:c.SCHEMA_REGISTRY()+"/config/"+e,data:'{"compatibility":"'+t+"\"}'",dataType:"json",headers:{"Content-Type":"application/json",Accept:"application/json"}};n(s).success(function(n){r.info("Success in changing subject [ "+e+" ] compatibility "+a()(n)),i.resolve(n.compatibility)}).error(function(e,n){r.info("Error on changing compatibility : "+a()(e)),422===n?(r.warn("Invalid compatibility level "+a()(n)+" "+a()(e)),a()(e).indexOf("50001")>-1?r.error(" Error in the backend data store - "+$scope.text):a()(e).indexOf("50003")>-1&&r.error("Error while forwarding the request to the master: "+a()(e))):r.debug("HTTP > 200 && < 400 (!) "+a()(e)),i.reject(e)})}else r.warn("Compatibility level:"+t+" is not supported"),i.reject();return i.promise}function y(e,n){var t=(new Date).getTime(),o=void 0;return i.forEach(w,function(i){i.subjectName===e&&i.version===n&&(r.debug("  [ "+e+"/"+n+" ] found in cache "+a()(i).length+" bytes in [ "+((new Date).getTime()-t)+" ] msec"),o=i)}),o}function S(e){for(var n=void 0,t=1;t<1e4;t++){var o=y(e,t);void 0!==o&&(n=o)}return n}var w=[];return{getGlobalConfig:function(){return b()},getSubjectConfig:function(e){return f(e)},putConfig:function(e){return p(e)},updateSubjectCompatibility:function(e,n){return v(e,n)},testSchemaCompatibility:function(e,n){return g(e,n)},registerNewSchema:function(e,n){return h(e,n)},getSubjectsVersions:function(e){return d(e)},getLatestSubjectFromCache:function(e){return S(e)},getAllSchemas:function(e){return m(e)},deleteVersionOfSubject:function(e,t){var a=o.defer(),i={method:"DELETE",url:c.SCHEMA_REGISTRY()+"/subjects/"+e+"/versions/"+t,dataType:"json",headers:{"Content-Type":"application/json",Accept:"application/json, text/plain"}};return n(i).success(function(n){r.info("Success in deleting subject version"+e+", version"+t);var o=n.id;a.resolve(o)}).error(function(e,n){r.info("Error on subject version deletion : ",e),a.reject(e)}),a.promise},deleteSubject:function(e){var t=o.defer(),a={method:"DELETE",url:c.SCHEMA_REGISTRY()+"/subjects/"+e,dataType:"json",headers:{"Content-Type":"application/json",Accept:"application/json, text/plain"}};return n(a).success(function(n){r.info("Success in deleting schema"+e),t.resolve()}).error(function(e,n){r.info("Error on schema deletion : ",e),t.reject()}),t.promise},refreshLatestSubjectsCACHE:function(){var t=o.defer(),a=(new Date).getTime();return l().then(function(s){var l=[];i.forEach(s,function(e){l.push(n.get(c.SCHEMA_REGISTRY()+"/subjects/"+e+"/versions/latest"))}),o.all(l).then(function(n){w=[],i.forEach(n,function(e){var n=e.data,t={version:n.version,id:n.id,schema:n.schema,Schema:JSON.parse(n.schema),subjectName:n.subject};w.push(t)}),r.debug("  pipeline : get-latest-subjects-refresh-cache in [ "+((new Date).getTime()-a)+" ] msec"),e.showSpinner=!1,e.Cache=w,t.resolve(w)})}),t.promise},getSubjectAtVersion:function(e,n){var t=o.defer(),i=y(e,n);if(void 0!==i)t.resolve(i);else{var s=(new Date).getTime();u(e,n).then(function(o){var a={version:o.version,id:o.id,schema:o.schema,Schema:JSON.parse(o.schema),subjectName:o.subject};r.debug("  pipeline: "+e+"/"+n+" in [ "+((new Date).getTime()-s)+" ] msec"),t.resolve(a)},function(e){r.error("Failure with : "+a()(e))})}return t.promise},getSubjectHistory:function(e){var t=o.defer();r.info("Getting subject [ "+e+"] history");var a=[];return d(e).then(function(r){var s=[];i.forEach(r,function(t){var o=y(e,t);void 0!==o?a.push(o):s.push(n.get(c.SCHEMA_REGISTRY()+"/subjects/"+e+"/versions/"+t))}),o.all(s).then(function(e){i.forEach(e,function(e){a.push(e.data)}),t.resolve(a)})},function(e){t.reject("pdata=>"+e)}),t.promise},getSubjectHistoryDiff:function(e){var n=[];r.info("Sorting by version..");for(var t=s.sortByVersion(e),o=0;o<t.length;o++){var a="";o>0&&(a=JSON.parse(t[o-1].schema));var i={version:t[o].version,id:t[o].id,current:JSON.parse(t[o].schema),previous:a};n.push(i)}return n}}};s.$inject=["$rootScope","$http","$location","$q","$log","UtilsFactory","env"],r.factory("SchemaRegistryFactory",s)},153:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t(58),a=t.n(o),i=t(1),r=i.module("angularAPP"),s=function(e,n,t){var o={bottom:!1,top:!0,left:!1,right:!0},r=i.extend({},o);this.getToastPosition=function(){return this.sanitizePosition(),a()(r).filter(function(e){return r[e]}).join(" ")},this.sanitizePosition=function(){var e=r;e.bottom&&o.top&&(e.top=!1),e.top&&o.bottom&&(e.bottom=!1),e.right&&o.left&&(e.left=!1),e.left&&o.right&&(e.right=!1),o=i.extend({},e)},this.showSimpleToast=function(e){n.show(n.simple().textContent(e).position(this.getToastPosition()).hideDelay(2e3))},this.showSimpleToastToTop=function(e){this.showSimpleToast(e),t.scrollTo(0,0)},this.showLongToast=function(e){var o=this.getToastPosition();n.show(n.simple().textContent(e).position(o).hideDelay(5e3)),t.scrollTo(0,0)},this.showActionToast=function(e){var t=n.simple().textContent(e).action("DELETE").highlightAction(!0).position(this.getToastPosition()).hideDelay(2e3);n.show(t).then(function(e){})},this.hideToast=function(){n.hide()}};s.$inject=["$rootScope","$mdToast","$window"],r.service("toastFactory",s)},154:function(e,n,t){var o=t(1),a=o.module("angularAPP"),i=function(e){function n(e,n,t){return e.sort(function(e,o){var a=e[n],i=o[n];return a<i?-1*t:a>i?1*t:0})}return{sortByKey:function(e,t,o){return n(e,t,o)},sortByVersion:function(e){return e.sort(function(e,n){return e.version-n.version})},IsJsonString:function(e){try{JSON.parse(e)}catch(e){return!1}return!0}}};i.$inject=["$log"],a.factory("UtilsFactory",i)},155:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t(23),a=t.n(o),i=t(1),r=i.module("angularAPP"),s=function(e,n,t,o,i,r){function s(e,n){switch(e){case"BACKWARD":p=c;break;case"FORWARD":p=l;break;case"FULL":p=d;break;case"NONE":p=u;break;case"BACKWARD_TRANSITIVE":p=m;break;case"FORWARD_TRANSITIVE":p=h;break;case"FULL_TRANSITIVE":p=g;break;default:p=""}return o.confirm().title("Warning. You are about to change the 'Global Compatibility Level'.").htmlContent("<b>This will affect the default behaviour and all subjects/schemas that do not have a compatibility level explicitly defined.</b> <br /><br />"+p).targetEvent(n).ok("UPDATE").cancel("CANCEL")}t.info("Starting schema-registry controller"),e.config={},e.connectionFailure=!1,e.showButton=!1,e.$watch(function(){return r.getSelectedCluster().NAME},function(){e.schemaRegistryURL=r.SCHEMA_REGISTRY(),e.globalConfigOpts=["NONE","FULL","FORWARD","BACKWARD"],r.allowTransitiveCompatibilities()&&e.globalConfigOpts.push("FULL_TRANSITIVE","FORWARD_TRANSITIVE","BACKWARD_TRANSITIVE"),i.getGlobalConfig().then(function(n){e.allowChanges=r.allowGlobalConfigChanges(),e.config=n,e.connectionFailure=!1,e.form=e.config.compatibilityLevel},function(n){t.error("Failure with : "+a()(n)),e.connectionFailure=!0})},!0),e.updateGlobalConfig=function(n,t){o.show(s(n,t)).then(function(){i.putConfig(n).then(function(){e.form=e.config.compatibilityLevel=n,e.form=n})})};var c="<b>Backward compatibility (default)</b>:<br /> A new schema is backward compatible if it can be used to read the data written in all previous schemas. <br />Backward compatibility is useful for loading data into systems like Hadoop since one can always query data of all versions using the latest schema.",l="<b>Forward compatibility</b>:<br /> A new schema is forward compatible if all previous schemas can read data written in this schema. <br />Forward compatibility is useful for consumer applications that can only deal with data in a particular version that may not always be the latest version.",d="<b>Full compatibility</b>: A new schema is fully compatible if it's both backward and forward compatible.",u="<b>No compatibility</b>: A new schema can be any schema as long as it's a valid Avro.",m="<b>Backward transitive</b>: Only available for schema registry 3.1.0 and above.<br />New schema is backward and forward compatible with all previously registered schemas.",h="<b>Forward transitive</b>: Only available for schema registry 3.1.0 and above.<br />All previously registered schemas can read data produced by the new schema.",g="<b>Full transitive</b>: Only available for schema registry 3.1.0 and above.<br />New schema can read data produced by all previously registered schemas.",p=""};s.$inject=["$scope","$http","$log","$mdDialog","SchemaRegistryFactory","env"],r.controller("SchemaRegistryConfigCtrl",s)},156:function(e,n,t){var o=t(1),a=o.module("angularAPP"),i=t(57),r=t(216),s=function(e,n,t,a){function s(e,n,t){e.addEventListener?e.addEventListener(n,t,!1):e.attachEvent&&e.attachEvent("on"+n,t)}function c(){return u.generateAsync({type:"blob"}).then(function(e){r.saveAs(e,"latestSchemas"+n.date+".zip")},function(e){h.innerHTML+=" "+e}),!1}function l(){return m.generateAsync({type:"blob"}).then(function(e){r.saveAs(e,"allSchemas"+n.date+".zip")},function(e){g.innerHTML+=" "+e}),!1}n.$on("$routeChangeSuccess",function(){n.cluster=t.getSelectedCluster().NAME});var d=new Date;n.date="-"+d.getDate()+(d.getMonth()+1)+d.getFullYear()+d.getHours()+d.getMinutes();var u=new i,m=new i;e.Cache&&e.Cache.length>0?o.forEach(n.allSchemas,function(e,n){u.file(e.subjectName+"."+e.version+".json",e.schema)}):a.refreshLatestSubjectsCACHE().then(function(e){o.forEach(e,function(e){u.file(e.subjectName+"."+e.version+".json",e.schema)})}),n.$watch(function(){return e.showSpinner},function(){n.allSchemas=a.getAllSchemas(e.Cache)},!0),n.$watch(function(){return e.allSchemasCache},function(){o.forEach(e.allSchemasCache,function(e){m.file(e.subject+"."+e.version+".json",e.schema)})},!0);var h=document.getElementById("latestSchemas");i.support.blob?s(h,"click",c):h.innerHTML+=" (not supported on this browser)";var g=document.getElementById("allSchemas");i.support.blob?s(g,"click",l):g.innerHTML+=" (not supported on this browser)"};s.$inject=["$rootScope","$scope","env","SchemaRegistryFactory","$location"],a.controller("ExportSchemasCtrl",s)},157:function(e,n,t){var o=t(1),a=o.module("angularAPP"),i=function(e,n,t,o,a){e.info("Starting schema-registry controller - home"),t.hideToast(),o.$watch(function(){return a.getSelectedCluster().NAME},function(){o.cluster=a.getSelectedCluster().NAME},!0)};i.$inject=["$log","SchemaRegistryFactory","toastFactory","$scope","env"],a.controller("HomeCtrl",i)},158:function(e,n,t){var o=t(1),a=o.module("angularAPP"),i=function(e,n,t,a,i,r){function s(){o.forEach(n.allSchemas,function(e){i.getSubjectConfig(e.subjectName).then(function(n){e.compatibilityLevel=n.compatibilityLevel},function(e){t.error(e)})})}function c(){n.allSchemas=[],i.refreshLatestSubjectsCACHE().then(function(e){n.allSchemas=e,s()},function(e){t.error("Failed at loadCache : "+e)},function(e){t.debug("Got notification: "+e)})}t.info("Starting schema-registry controller : list ( initializing subject cache )"),e.$watch(function(){return n.listChanges},function(e){void 0!==e&&!0===e&&(c(),n.listChanges=!1)},!0),e.$on("newEvolve",function(e,n){c()}),e.$watch(function(){return r.getSelectedCluster().NAME},function(n){e.cluster=r.getSelectedCluster().NAME,c()},!0);var l=(window.innerHeight-355)/48;Math.floor(l)<3?e.itemsPerPage=3:e.itemsPerPage=Math.floor(l)};i.$inject=["$scope","$rootScope","$log","$mdMedia","SchemaRegistryFactory","env"],a.controller("SubjectListCtrl",i)},159:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t(23),a=t.n(o),i=t(58),r=t.n(i),s=t(163),c=t.n(s),l=t(1),d=l.module("angularAPP"),u=function(e,n,t,o,i,s,d,u,m,h,g){function p(n,t){function o(e){return"type"===e}function l(e,n){return o(isNaN(e)?e:n)}function d(e){var n=e.split("."),t=n.length,o=n[t-1],a=n[t-2];return 1===t||l(o,a)}if(e.notValidType=!1,"null"===t)-1===y.indexOf(t)&&(e.wrongType=t,e.notValidType=!0);else{var h;try{h=JSON.parse(t),console.log("It's probably object, so checking types",h)}catch(n){"string"==typeof t&&-1===y.indexOf(t)&&(e.wrongType=t,e.notValidType=!0)}}var g,p,b=function e(n){var t={};for(var o in n)if(n.hasOwnProperty(o))if("object"===c()(n[o])){var a=e(n[o]);for(var i in a)a.hasOwnProperty(i)&&(t[o+"."+i]=a[i])}else t[o]=n[o];return t}(t),f=r()(b).reduce(function(e,n,t){return-1!==n.indexOf("type")&&d(n)&&e.push(n),e},[]),S=f.length;for(g=0;g<S;g++)if(p=f[g],v.indexOf(b[p])<0){e.wrongType=b[p],e.notValidType=!0;break}t=a()(t);var w=s.defer();if(void 0===n||0===n.length)e.showSimpleToastToTop("Please fill in the subject name"),e.aceBackgroundColor="rgba(0, 128, 0, 0.04)",w.resolve("no-subject-name");else if(e.notValidType)e.showSimpleToastToTop(e.wrongType+" is not valid"),e.aceBackgroundColor="rgba(255, 255, 0, 0.10)",w.resolve("not-valid-type");else if(u.IsJsonString(t)){var T=m.getLatestSubjectFromCache(n);void 0===T?(e.createOrEvolve="Create new schema",e.showSimpleToast("This will be a new Subject"),e.allowCreateOrEvolution=!0,e.aceBackgroundColor="rgba(0, 128, 0, 0.04)",i.info("Valid schema"),w.resolve("new-schema")):m.testSchemaCompatibility(e.text,e.newAvroString).then(function(n){i.info("Success in testing schema compatibility "+n),e.allowCreateOrEvolution=!1,e.showSimpleToastToTop("Schema exists, please select a unique subject name"),e.aceBackgroundColor="rgba(255, 255, 0, 0.10)",w.resolve("non-compatible")},function(n){e.showSimpleToastToTop("Failure with - "+n),w.resolve("failure")})}else e.showSimpleToastToTop("This schema is not valid"),e.aceBackgroundColor="rgba(255, 255, 0, 0.10)",w.resolve("not-json");return w.promise}function b(){var n="FILL_IN_SUBJECT";if(void 0!==e.text&&e.text.length>0&&(n=e.text),a()(e.newAvroString)){e.curlCommand='\n// Register new schema\ncurl -vs --stderr - -XPOST -i -H "Content-Type: application/vnd.schemaregistry.v1+json" --data \'{"schema":"'+a()(e.newAvroString).replace(/\n/g," ").replace(/\s\s+/g," ").replace(/"/g,'\\"')+"\"}' "+g.SCHEMA_REGISTRY()+"/subjects/"+n+"/versions"}}function f(n,o){var r=s.defer();return m.registerNewSchema(n,o).then(function(o){i.info("Success in registering new schema "+o);var a=o;e.showSimpleToastToTop("Schema ID : "+o),t.listChanges=!0,d.path("/cluster/"+e.cluster+"/schema/"+n+"/version/latest"),r.resolve(a)},function(n,t){i.info("Error on schema registration : "+a()(n));var o=n.message;e.showSimpleToastToTop(o),t>=400?i.debug("Schema registrations is not allowed "+t+" "+n):i.debug("Schema registration failure: "+a()(n)),r.reject(o)}),r.promise}i.debug("NewSubjectCtrl - initiating"),e.$on("$routeChangeSuccess",function(){e.cluster=g.getSelectedCluster().NAME}),e.noSubjectName=!0,t.listChanges=!1,h.hideToast(),e.showSimpleToast=function(e){h.showSimpleToast(e)},e.showSimpleToastToTop=function(e){h.showSimpleToastToTop(e)},e.hideToast=function(){h.hide()},e.$watch(function(){return e.text},function(n){e.allowCreateOrEvolution=!1,b()},!0),e.$watch(function(){return e.newAvroString},function(n){e.allowCreateOrEvolution=!1,b()},!0),e.allowCreateOrEvolution=!1;var v=["null","double","string","record","int","float","long","array","boolean","enum","map","fixed","bytes","type"],y=["null","boolean","int","long","float","double","bytes","string"];e.testCompatibility=function(){return p(e.text,e.newAvroString)},e.registerNewSchema=function(){var n=e.text;p(n,e.newAvroString).then(function(t){switch(t){case"no-subject-name":case"not-json":case"not-valid-type":case"failure":case"non-compatible":i.debug("registerNewSchema - cannot do anything more with [ "+t+" ]");break;case"new-schema":var o="";o="string"!=typeof e.newAvroString?a()(e.newAvroString):e.newAvroString,f(n,o).then(function(e){i.info("New subject id after posting => "+e)},function(n){i.error("peiler2=>"+n),e.allowCreateOrEvolution=!1,e.aceBackgroundColor="rgba(255, 255, 0, 0.10)"});break;case"compatible":i.info("Compatibility [compatible]");var r=m.getLatestSubjectFromCache(n);if(void 0!==r){i.info("Existing schema id = "+r.version),f(n,e.newAvroString).then(function(e){i.info("New subject id after posting => "+e),r.version===e&&h.showSimpleToastToTop("The schema you posted was same to the existing one")},function(n){i.error("peiler=>"+n),e.allowCreateOrEvolution=!1,e.aceBackgroundColor="rgba(255, 255, 0, 0.10)"});break}i.error("This should never happen.");default:i.warn("Should never come here "+t)}},function(n){500===n.error_code?(e.aceBackgroundColor="rgba(255, 255, 0, 0.10)",h.showSimpleToastToTop("Not a valid avro")):i.error("Could not test compatibilitydasdas",n)})},e.newSchemaAceLoaded=function(n){e.editor=n,e.editor.$blockScrolling=1/0,e.aceSchemaSession=n.getSession();var t=e.newAvroString.split("\n").length;l.forEach(e.newAvroString.split("\n"),function(e){t+=Math.floor(e.length/110)}),t<=1&&(t=10),n.setOptions({minLines:t+1,maxLines:t+1,highlightActiveLine:!1}),b()},e.newSchemaAceChanged=function(n){e.editor=n,b()},e.curlCommandAceLoaded=function(n){e.editor=n,e.editor.$blockScrolling=1/0},e.newAvroString=l.toJson({type:"record",name:"evolution",doc:"This is a sample Avro schema to get you started. Please edit",namespace:"com.landoop",fields:[{name:"name",type:"string"},{name:"number1",type:"int"},{name:"number2",type:"float"}]},!0)};u.$inject=["$scope","$route","$rootScope","$http","$log","$q","$location","UtilsFactory","SchemaRegistryFactory","toastFactory","env"],d.controller("NewSubjectCtrl",u)},160:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t(23),a=t.n(o),i=t(1),r=i.module("angularAPP");t(197);t(199),t(198),t(200),t(88),t(196);var s=function(e,n,t,o,r,s,c,l,d,u,m,h){function g(){l.getSubjectAtVersion(o.subject,o.version).then(function(t){r.info("Success fetching ["+o.subject+"/"+o.version+"] with MetaData"),e.subjectObject=t,n.arraySchema=void 0!==e.subjectObject.Schema[0],n.tableWidth=100/n.subjectObject.Schema.length,e.schema=t.Schema.fields,n.aceString=i.toJson(t.Schema,!0),n.aceStringOriginal=n.aceString,n.aceReady=!0,l.getSubjectsVersions(o.subject).then(function(t){var o=[];i.forEach(t,function(n){n!==e.subjectObject.version&&o.push(n)}),n.otherVersions=o,n.multipleVersionsOn=n.otherVersions.length>0},function(e){})},function(e){r.error("Failed: "+e)},function(e){r.info("Got notification: "+e)})}function p(e){var t=1;0===e.indexOf("-")&&(e=e.substring(1,e.length),t=-1),n.schema=d.sortByKey(n.schema,e,t)}r.info("Starting schema-registry controller: view ( "+o.subject+"/"+o.version+" )"),e.listChanges=!1,u.hideToast(),l.getSubjectHistory(o.subject).then(function(e){n.completeSubjectHistory=l.getSubjectHistoryDiff(e)}),n.allowSchemaDeletion=h.allowSchemaDeletion(),n.allowTransitiveCompatibilities=h.allowTransitiveCompatibilities(),n.$watch(function(){return n.aceString},function(e){n.isAvroUpdatedAndCompatible=!1},!0),l.getSubjectConfig(o.subject).then(function(e){n.compatibilitySelect=e.compatibilityLevel,n.existingValue=e.compatibilityLevel},function(e){r.error(e)}),l.getGlobalConfig().then(function(e){n.globalConfig=e.compatibilityLevel},function(e){r.error("Failure with : "+a()(e)),n.connectionFailure=!0}),o.subject&&o.version&&g(),n.$on("$routeChangeSuccess",function(){n.cluster=h.getSelectedCluster().NAME,n.maxHeight=window.innerHeight-215,n.maxHeight<310&&(n.maxHeight=310)}),n.updateCompatibility=function(t){l.updateSubjectCompatibility(o.subject,t).then(function(){n.existingValue=t,e.listChanges=!0,n.success=!0})},n.aceString="",n.aceStringOriginal="",n.multipleVersionsOn=!1,n.isAvroUpdatedAndCompatible=!1,n.testAvroCompatibility=function(){r.debug("Testing Avro compatibility"),n.aceString===n.aceStringOriginal?u.showSimpleToastToTop("You have not changed the schema"):d.IsJsonString(n.aceString)?(n.aceBackgroundColor="rgba(0, 128, 0, 0.04)",r.debug("Edited schema is a valid json and is a augmented"),l.testSchemaCompatibility(o.subject,n.aceString).then(function(e){e?(r.info("Schema is compatible"),n.aceBackgroundColor="rgba(0, 128, 0, 0.04)",u.showSimpleToast("You can now evolve the schema"),n.isAvroUpdatedAndCompatible=!0):(n.aceBackgroundColor="rgba(255, 255, 0, 0.10)",u.showLongToast("This schema is incompatible with the latest version"))},function(e){500===e.error_code?(n.aceBackgroundColor="rgba(255, 255, 0, 0.10)",u.showSimpleToastToTop("Not a valid avro")):r.error("Could not test compatibilitydasdas",e)})):(n.aceBackgroundColor="rgba(255, 255, 0, 0.10)",u.showLongToast("Invalid Avro"))},n.evolveAvroSchema=function(){n.aceString!==n.aceStringOriginal&&d.IsJsonString(n.aceString)?l.testSchemaCompatibility(o.subject,n.aceString).then(function(a){var i=l.getLatestSubjectFromCache(o.subject);r.warn("peiler"),r.warn(i);var c=i.id;l.registerNewSchema(o.subject,n.aceString).then(function(a){r.info("Latest schema ID was : "+c),r.info("New    schema ID is  : "+a),c===a?u.showSimpleToastToTop(" Schema is the same as latest "):(u.showSimpleToastToTop(" Schema evolved to ID: "+a),e.$broadcast("newEvolve"),s.path("/cluster/"+n.cluster+"/schema/"+o.subject+"/version/latest"),t.reload())},function(e){})},function(e){}):(n.aceBackgroundColor="rgba(255, 255, 0, 0.10)",u.showLongToast("Invalid Avro"))},n.isAvroAceEditable=!1,n.aceBackgroundColor="white",n.cancelEditor=function(){n.selectedIndex=0,r.info("Canceling editor"),n.maxHeight=n.maxHeight+64,n.form.json.$error.validJson=!1,n.aceBackgroundColor="white",u.hideToast(),r.info("Setting "+n.aceStringOriginal),n.isAvroAceEditable=!1,n.isAvroUpdatedAndCompatible=!1,n.aceString=n.aceStringOriginal,n.aceSchemaSession.setValue(n.aceString)},n.toggleEditor=function(){n.isAvroAceEditable=!n.isAvroAceEditable,n.isAvroAceEditable?(n.maxHeight=n.maxHeight-64,u.showLongToast("You can now edit the schema"),n.aceBackgroundColor="rgba(0, 128, 0, 0.04)"):(n.aceBackgroundColor="white",u.hideToast())},n.tableOptions={rowSelection:!1,multiSelect:!1,autoSelect:!1,decapitate:!1,largeEditDialog:!1,boundaryLinks:!1,limitSelect:!0,pageSelect:!0},n.query={order:"name",limit:100,page:1},n.logOrder=function(e){p(e)},n.otherTabSelected=function(){n.hideEdit=!0},n.editor,n.viewSchemaAceLoaded=function(e){n.editor=e,n.editor.$blockScrolling=1/0,n.aceSchemaSession=e.getSession(),n.editor.getSession().setUseWrapMode(!0),n.editor.getSession().setBehavioursEnabled(!1);var t=n.aceString.split("\n").length;i.forEach(n.aceString.split("\n"),function(e){t+=Math.floor(e.length/110)}),t<=1&&(t=10),e.setOptions({minLines:t,maxLines:t,highlightActiveLine:!1})},n.viewSchemaAceChanged=function(e){n.editor=e;var t=n.aceSchemaSession.getDocument().getValue();n.aceString=t},n.showTree=function(e){return!(i.isNumber(e)||i.isString(e)||null===e)},n.askForConfirmToDelete=function(e){n.versionToBeDeleted=e,n.showDeleteConfirmation=!0},n.deleteSchema=function(t){n.showDeleteConfirmation=!1;var a=o.subject;t?l.deleteVersionOfSubject(a,t).then(function(){e.listChanges=!0,u.showLongToast(a+" version "+t+" deleted successfully"),g(),s.path("/cluster/"+n.cluster+"/schema/"+a+"/version/latest")}):l.deleteSubject(a).then(function(){e.listChanges=!0,u.showLongToast(a+"deleted successfully"),s.path("/cluster/"+n.cluster)})}};s.$inject=["$rootScope","$scope","$route","$routeParams","$log","$location","$mdDialog","SchemaRegistryFactory","UtilsFactory","toastFactory","Avro4ScalaFactory","env"],r.controller("SubjectsCtrl",s),r.directive("clickLink",["$location",function(e){return{link:function(n,t,o){t.on("click",function(){n.$apply(function(){e.path(o.clickLink)})})}}}])},255:function(e,n){}},[149]);